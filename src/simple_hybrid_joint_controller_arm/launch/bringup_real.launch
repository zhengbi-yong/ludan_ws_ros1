<launch>
  <arg name="controller_ns" default="wanren/right_arm"/>
  <arg name="spawn_controllers" default="false"/>

  <!--
    左臂硬件包已经移除，此处仅保留一个可选的控制器加载入口。
    若已经通过其他方式启动了右臂的 controller_manager（例如自定义 RobotHW），
    可将 spawn_controllers 设为 true 并调整 controller_ns，使其指向对应命名空间。
  -->

  <group if="$(arg spawn_controllers)" ns="$(arg controller_ns)">
    <rosparam param="joint_state_controller">
      type: joint_state_controller/JointStateController
      publish_rate: 100
    </rosparam>

    <rosparam param="all_joints_hjc_arm">
      type: simple_hjc/AllJointsHybridController
      joints: ['arm_left_joint_1','arm_left_joint_2','arm_left_joint_3','arm_left_joint_4','arm_left_joint_5','arm_left_joint_6','arm_left_joint_7',
               'arm_right_joint_1','arm_right_joint_2','arm_right_joint_3','arm_right_joint_4','arm_right_joint_5','arm_right_joint_6','arm_right_joint_7']
      default_kp: 20.0
      default_kd: 1.0
      default_vel: 0.0
      default_ff:  0.0
    </rosparam>

    <node pkg="controller_manager" type="spawner" name="spawner_arm"
          output="screen"
          args="joint_state_controller all_joints_hjc_arm"/>
  </group>
</launch>
